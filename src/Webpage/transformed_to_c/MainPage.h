#pragma once
const char MainPage[] PROGMEM = "<meta content=width=device-width,initial-scale=1.0,maximum-scale=2.0,user-scalable=no name=viewport><title>Main Page</title><style>html,body{max-width:100%;overflow-x:hidden}body{background-color:#616161;width:100vw;height:100vh;display:flex;justify-content:center;align-items:center}form{display:flex;justify-content:center;align-items:center;flex-direction:column}h1,h2,h3{font-family:Arial,Helvetica,sans-serif;text-align:center;font-size:35px;padding-top:5px;margin:5px;color:#ffab00}h2{font-size:25px;color:#00e676}h3{font-size:20;color:#00e5ff}#wrapper{display:flex;justify-content:center;align-items:center;flex-direction:column}.switch{position:relative;display:inline-block;width:40px;height:26px}.switch input{opacity:0;width:0;height:0}.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s}.slider:before{position:absolute;content:'';height:18px;width:18px;left:4px;bottom:4px;background-color:#fff;-webkit-transition:.4s;transition:.4s}input:checked+.slider{background-color:#00e5ff}input:focus+.slider{box-shadow:0 0 1px #00e5ff}input:checked+.slider:before{-webkit-transform:translateX(13px);-ms-transform:translateX(13px);transform:translate(13px)}.slider.round{border-radius:20px}.slider.round:before{border-radius:50%}.slide-container{width:100%}.input-slider{-webkit-appearance:none;width:50vw;height:5px;border-radius:5px;background:#d3d3d3;outline:none;opacity:.7;-webkit-transition:.2s;transition:opacity .2s}.input-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:20px;height:20px;border-radius:50%;background:#00e5ff;cursor:pointer}.input-slider::-moz-range-thumb{width:20px;height:20px;border-radius:50%;background:#00e5ff;cursor:pointer}.led-strip-control-panel{display:flex;justify-content:center;align-items:center;flex-direction:column}.led-strip-control-panel div{display:flex;justify-content:center;align-items:center;flex-direction:column}.led-strip-control-panel div h3{margin:0;padding-bottom:5px}#settings-button{font-family:Arial,Helvetica,sans-serif;text-align:center;font-size:15px;background:#00e5ff;color:#424242}.pure-material-button-contained{position:relative;display:inline-block;box-sizing:border-box;border:none;border-radius:4px;padding:0 16px;min-width:64px;height:36px;vertical-align:middle;text-align:center;color:rgb(var(--pure-material-onprimary-rgb, 255, 255, 255));background-color:rgb(var(--pure-material-primary-rgb, 33, 150, 243));box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;overflow:hidden;outline:none;cursor:pointer;transition:box-shadow .2s}.pure-material-button-contained::-moz-focus-inner{border:none}.pure-material-button-contained:before{content:'';position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgb(var(--pure-material-onprimary-rgb, 255, 255, 255));opacity:0;transition:opacity .2s}.pure-material-button-contained:after{content:'';position:absolute;left:50%;top:50%;border-radius:50%;padding:50%;width:32px;height:32px;background-color:rgb(var(--pure-material-onprimary-rgb, 255, 255, 255));opacity:0;transform:translate(-50%,-50%) scale(1);transition:opacity 1s,transform .5s}.pure-material-button-contained:hover,.pure-material-button-contained:focus{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.pure-material-button-contained:hover:before{opacity:.08}.pure-material-button-contained:focus:before{opacity:.24}.pure-material-button-contained:hover:focus:before{opacity:.3}.pure-material-button-contained:active{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.pure-material-button-contained:active:after{opacity:.32;transform:translate(-50%,-50%) scale(0);transition:transform 0s}.pure-material-button-contained:disabled{color:rgba(var(--pure-material-onsurface-rgb, 0, 0, 0),.38);background-color:rgba(var(--pure-material-onsurface-rgb, 0, 0, 0),.12);box-shadow:none;cursor:initial}.pure-material-button-contained:disabled:before{opacity:0}.pure-material-button-contained:disabled:after{opacity:0}input[type=color]{-webkit-appearance:none;border:none;width:50px;height:50px;background:#616161;color:#616161}input[type=color]::-webkit-color-swatch-wrapper{padding:0}input[type=color]::-webkit-color-swatch{border:none}select{width:40vw;height:20px;background:#00e5ff;color:#424242;border:none;border-radius:10px;-webkit-appearance:none;outline:none;text-align:center}option{text-align:center}</style><body><div id=wrapper><h1>LED Controller Mk4</h1><div><h2>LED Strip 1</h2><div class=led-strip-control-panel><div><h3>Power: <span id=led-strip-1-power-value></span></h3><label class=switch><input id=led-strip-1-power type=checkbox> <span class='slider round'></span></label></div><div><h3>Brightness: <span id=led-strip-1-brightness-value></span></h3><div class=slide-container><input class=input-slider id=led-strip-1-brightness max=100 min=1 type=range value=50></div></div><div><h3>Color</h3><input class=color-picker id=led-strip-1-color type=color value=#ff0000></div><div><h3>Effect</h3><select id=led-strip-1-effect><option value=0>None<option value=1>TriplePulse<option value=2>Rainbow</select></div></div></div><div><h2>LED Strip 2</h2><div class=led-strip-control-panel><div><h3>Power: <span id=led-strip-2-power-value></span></h3><label class=switch><input id=led-strip-2-power type=checkbox> <span class='slider round'></span></label></div><div><h3>Brightness: <span id=led-strip-2-brightness-value></span></h3><div class=slide-container><input class=input-slider id=led-strip-2-brightness max=100 min=1 type=range value=50></div></div><div><h3>Color</h3><input class=color-picker id=led-strip-2-color type=color value=#ff0000></div><div><h3>Effect</h3><select id=led-strip-2-effect><option value=0>None<option value=1>TriplePulse<option value=2>Rainbow</select></div></div></div><div><h2>Settings</h2><form action=/settings><button class=pure-material-button-contained id=settings-button>Go to Settings Page</button></form></div></div><script>var websocketConnection=null,powerButton1=document.getElementById('led-strip-1-power'),powerButton1Value=document.getElementById('led-strip-1-power-value'),powerButton2=document.getElementById('led-strip-2-power'),powerButton2Value=document.getElementById('led-strip-2-power-value'),brightnessSlider1=document.getElementById('led-strip-1-brightness'),brightnessSlider1Value=document.getElementById('led-strip-1-brightness-value'),brightnessSlider2=document.getElementById('led-strip-2-brightness'),brightnessSlider2Value=document.getElementById('led-strip-2-brightness-value'),colorPicker1=document.getElementById('led-strip-1-color'),colorPicker2=document.getElementById('led-strip-2-color'),effectSelect1=document.getElementById('led-strip-1-effect'),effectSelect2=document.getElementById('led-strip-2-effect');powerButton1.checked=!1,powerButton1Value.innerHTML='Off',powerButton2.checked=!1,powerButton2Value.innerHTML='Off',brightnessSlider1.value=50,brightnessSlider1Value.innerHTML=50,brightnessSlider2.value=50,brightnessSlider2Value.innerHTML=50;function updatePowerButtonValue(t,e,n){e=Boolean(e),console.log('Power Button '+t+' updated to '+e),t==1&&(powerButton1.checked=e,powerButton1.checked?powerButton1Value.innerHTML='On':powerButton1Value.innerHTML='Off'),t==2&&(powerButton2.checked=e,powerButton2.checked?powerButton2Value.innerHTML='On':powerButton2Value.innerHTML='Off'),n&&sendWebsocketPowerButtonUpdate(t,e)}function updateBrightnessSliderValue(t,e,n){console.log('Brightness Slider '+t+' updated to '+e),t==1&&(brightnessSlider1.value=e,brightnessSlider1Value.innerHTML=brightnessSlider1.value),t==2&&(brightnessSlider2.value=e,brightnessSlider2Value.innerHTML=brightnessSlider2.value),n&&sendWebsocketBrightnessSliderUpdate(t,e)}function updateColorPickerValue(t,e,n){console.log('Color Picker '+t+' updated to '+e),t==1&&(colorPicker1.value=e),t==2&&(colorPicker2.value=e),n&&sendWebsocketColorPickerUpdate(t,e)}function updateEffectSelectValue(t,e,n){console.log('Effect Select '+t+' updated to '+e),t==1&&(effectSelect1.value=e),t==2&&(effectSelect2.value=e),n&&sendWebsocketEffectSelectUpdate(t,e)}function sendWebsocketUpdate(t){websocketConnection.readyState==WebSocket.OPEN?(websocketConnection.send(t),console.log('Websocket update : '+t)):console.log('Websocket failed to send : '+t)}function sendWebsocketPowerButtonUpdate(t,e){e=e?1:0;var n='Power#'+t+'#'+e+'#0';sendWebsocketUpdate(n)}function sendWebsocketBrightnessSliderUpdate(t,e){var n='ColorBrightness#'+t+'#'+e+'#0';sendWebsocketUpdate(n)}function sendWebsocketColorPickerUpdate(t,e){redValue=parseInt(e.substring(1,3),16),greenValue=parseInt(e.substring(3,5),16),blueValue=parseInt(e.substring(5,7),16);var n='Red#'+t+'#'+redValue+'#0',a='Green#'+t+'#'+greenValue+'#0',o='Blue#'+t+'#'+blueValue+'#0';sendWebsocketUpdate(n),sendWebsocketUpdate(a),sendWebsocketUpdate(o)}function sendWebsocketEffectSelectUpdate(t,e){var n='Effect#'+t+'#'+e+'#0';sendWebsocketUpdate(n)}powerButton1.onchange=function(){updatePowerButtonValue(1,powerButton1.checked,!0)},powerButton2.onchange=function(){updatePowerButtonValue(2,powerButton2.checked,!0)},brightnessSlider1.onchange=function(){updateBrightnessSliderValue(1,brightnessSlider1.value,!0)},brightnessSlider2.onchange=function(){updateBrightnessSliderValue(2,brightnessSlider2.value,!0)},colorPicker1.onchange=function(){updateColorPickerValue(1,colorPicker1.value,!0)},colorPicker2.onchange=function(){updateColorPickerValue(2,colorPicker2.value,!0)},effectSelect1.onchange=function(){updateEffectSelectValue(1,effectSelect1.value,!0)},effectSelect2.onchange=function(){updateEffectSelectValue(2,effectSelect2.value,!0)},String.prototype.hexReplaceAt=function(t,e){return e.length==1&&(e='0'+e),this.substr(0,t)+e+this.substr(t+e.length)},websocketConnection=new WebSocket('ws://'+location.hostname+'/ws/main',['arduino']),websocketConnection.onopen=function(){websocketConnection.send('Connect '+new Date)},websocketConnection.onerror=function(t){console.log('WebSocket Error ',t)},websocketConnection.onmessage=function(t){if(console.log('Websocket receive : '+t.data),data=t.data.split('#'),data[0].includes('Power'))updatePowerButtonValue(parseInt(data[1]),parseInt(data[2]),!1);else if(data[0].includes('ColorBrightness'))updateBrightnessSliderValue(parseInt(data[1]),parseInt(data[2]),!1);else if(data[0].includes('Effect'))updateEffectSelectValue(parseInt(data[1]),parseInt(data[2]),!1);else if(data[0].includes('Red')){var e=document.getElementById('led-strip-'+data[1]+'-color').value,n=e.hexReplaceAt(1,parseInt(data[2]).toString(16));updateColorPickerValue(data[1],n,!1)}else if(data[0].includes('Green')){var e=document.getElementById('led-strip-'+data[1]+'-color').value,n=e.hexReplaceAt(3,parseInt(data[2]).toString(16));updateColorPickerValue(data[1],n,!1)}else if(data[0].includes('Blue')){var e=document.getElementById('led-strip-'+data[1]+'-color').value,n=e.hexReplaceAt(5,parseInt(data[2]).toString(16));updateColorPickerValue(data[1],n,!1)}};</script>";